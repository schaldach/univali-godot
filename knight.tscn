[gd_scene load_steps=34 format=3 uid="uid://dma00ivnxc7h4"]

[ext_resource type="PackedScene" uid="uid://xchk2np3pw4t" path="res://KayKit_Assets/adventurers_gltf/Knight.glb" id="1_nv6tm"]
[ext_resource type="Script" path="res://knight.cs" id="2_6a1ft"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lglxf"]
animation = &"1H_Melee_Attack_Chop"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_i3xra"]
animation = &"1H_Melee_Attack_Slice_Diagonal"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_us1w8"]
animation = &"1H_Melee_Attack_Slice_Horizontal"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_nomuj"]
animation = &"Death_A"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8lxas"]
animation = &"Running_A"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6ajs0"]
animation = &"Walking_Backwards"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lwn0o"]
animation = &"Running_Strafe_Left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5lh2n"]
animation = &"Running_Strafe_Right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_b4s2a"]
animation = &"Idle"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_5fjm7"]
blend_point_0/node = SubResource("AnimationNodeAnimation_8lxas")
blend_point_0/pos = Vector2(0, 1)
blend_point_1/node = SubResource("AnimationNodeAnimation_6ajs0")
blend_point_1/pos = Vector2(0, -1)
blend_point_2/node = SubResource("AnimationNodeAnimation_lwn0o")
blend_point_2/pos = Vector2(-1, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_5lh2n")
blend_point_3/pos = Vector2(1, 0)
blend_point_4/node = SubResource("AnimationNodeAnimation_b4s2a")
blend_point_4/pos = Vector2(0, 0)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_n68bt"]
animation = &"Interact"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_k5nv0"]
animation = &"Jump_Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_tifs2"]
animation = &"Jump_Land"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_7dwh3"]
animation = &"Jump_Start"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_s6g54"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_eebq0"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5mf0e"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_kveey"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_x8g4b"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_g8uj6"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5jtef"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_fu4lw"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_qyha5"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ldjhn"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_14dju"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5fovn"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_dqihc"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_y4kwq"]
xfade_time = 0.1
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_0tx83"]

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_xg2kv"]
states/1H_Melee_Attack_Chop/node = SubResource("AnimationNodeAnimation_lglxf")
states/1H_Melee_Attack_Chop/position = Vector2(455, -9.08583)
states/1H_Melee_Attack_Slice_Diagonal/node = SubResource("AnimationNodeAnimation_i3xra")
states/1H_Melee_Attack_Slice_Diagonal/position = Vector2(260, -53.0858)
states/1H_Melee_Attack_Slice_Horizontal/node = SubResource("AnimationNodeAnimation_us1w8")
states/1H_Melee_Attack_Slice_Horizontal/position = Vector2(654, -53.0858)
states/Death_A/node = SubResource("AnimationNodeAnimation_nomuj")
states/Death_A/position = Vector2(689, 65)
states/IWR/node = SubResource("AnimationNodeBlendSpace2D_5fjm7")
states/IWR/position = Vector2(455, 100)
states/Interact/node = SubResource("AnimationNodeAnimation_n68bt")
states/Interact/position = Vector2(187, 43.9142)
states/Jump_Idle/node = SubResource("AnimationNodeAnimation_k5nv0")
states/Jump_Idle/position = Vector2(455, 251.979)
states/Jump_Land/node = SubResource("AnimationNodeAnimation_tifs2")
states/Jump_Land/position = Vector2(569, 176.979)
states/Jump_Start/node = SubResource("AnimationNodeAnimation_7dwh3")
states/Jump_Start/position = Vector2(351, 176.979)
transitions = ["Start", "IWR", SubResource("AnimationNodeStateMachineTransition_s6g54"), "IWR", "1H_Melee_Attack_Slice_Diagonal", SubResource("AnimationNodeStateMachineTransition_eebq0"), "1H_Melee_Attack_Slice_Diagonal", "IWR", SubResource("AnimationNodeStateMachineTransition_5mf0e"), "1H_Melee_Attack_Chop", "IWR", SubResource("AnimationNodeStateMachineTransition_kveey"), "IWR", "1H_Melee_Attack_Chop", SubResource("AnimationNodeStateMachineTransition_x8g4b"), "IWR", "1H_Melee_Attack_Slice_Horizontal", SubResource("AnimationNodeStateMachineTransition_g8uj6"), "1H_Melee_Attack_Slice_Horizontal", "IWR", SubResource("AnimationNodeStateMachineTransition_5jtef"), "IWR", "Interact", SubResource("AnimationNodeStateMachineTransition_fu4lw"), "Interact", "IWR", SubResource("AnimationNodeStateMachineTransition_qyha5"), "IWR", "Death_A", SubResource("AnimationNodeStateMachineTransition_ldjhn"), "IWR", "Jump_Start", SubResource("AnimationNodeStateMachineTransition_14dju"), "Jump_Start", "Jump_Idle", SubResource("AnimationNodeStateMachineTransition_5fovn"), "Jump_Idle", "Jump_Land", SubResource("AnimationNodeStateMachineTransition_dqihc"), "Jump_Land", "IWR", SubResource("AnimationNodeStateMachineTransition_y4kwq"), "IWR", "Jump_Idle", SubResource("AnimationNodeStateMachineTransition_0tx83")]
graph_offset = Vector2(122, 46.9785)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_s34jb"]
height = 2.4

[node name="Knight" instance=ExtResource("1_nv6tm")]
script = ExtResource("2_6a1ft")

[node name="Skeleton3D" parent="Rig" index="0"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)
bones/0/position = Vector3(0, 0.000176363, 0)
bones/0/rotation = Quaternion(-3.04883e-11, 0.000886078, 5.28073e-11, 1)
bones/1/position = Vector3(-1.28128e-19, 0.369258, 1.91838e-18)
bones/1/rotation = Quaternion(0.000585868, 0.0428851, -9.27203e-05, 0.99908)
bones/2/rotation = Quaternion(0.000717185, 0.000445555, 3.53667e-05, 1)
bones/3/rotation = Quaternion(0.000276329, -0.000249023, 0.000196916, 1)
bones/4/position = Vector3(0.211999, 0.13407, -0.000295015)
bones/4/rotation = Quaternion(-0.551331, -0.0590575, -0.643299, 0.527933)
bones/5/rotation = Quaternion(2.25475e-08, -5.9901e-08, -0.507862, 0.861439)
bones/7/rotation = Quaternion(-0.319141, -0.33754, 0.143758, 0.873813)
bones/8/rotation = Quaternion(0.00101873, 0.00166077, -0.701192, 0.71297)
bones/14/position = Vector3(-0.211861, 0.134001, -0.000257632)
bones/14/rotation = Quaternion(-0.610852, 0.0791068, 0.617377, 0.489335)
bones/15/rotation = Quaternion(3.30628e-08, 4.9459e-08, 0.529432, 0.848352)
bones/17/rotation = Quaternion(-0.319545, 0.312764, -0.224693, 0.865784)
bones/18/rotation = Quaternion(0.00362838, 0.00466786, 0.701669, 0.712479)
bones/21/rotation = Quaternion(-0.000799914, -0.0317764, 0.000175311, 0.999495)
bones/24/position = Vector3(0.170945, 0.113587, 0.000471905)
bones/24/rotation = Quaternion(0.989372, 0.0835296, 0.0781967, 0.0897248)
bones/25/rotation = Quaternion(0.39609, 6.08562e-08, -2.66163e-07, 0.918212)
bones/26/rotation = Quaternion(-0.622446, -0.199429, 0.0768532, 0.752916)
bones/27/rotation = Quaternion(-3.0497e-08, 0.920355, -0.391084, 6.9491e-08)
bones/28/position = Vector3(-0.170945, 0.113587, -0.000471877)
bones/28/rotation = Quaternion(0.991388, -0.033183, 0.0295899, 0.123175)
bones/29/rotation = Quaternion(0.442452, -5.77937e-08, 3.09262e-07, 0.896792)
bones/30/rotation = Quaternion(-0.646196, 0.111751, -0.0232597, 0.754587)
bones/31/rotation = Quaternion(3.04676e-08, 0.920355, -0.391084, -6.94894e-08)
bones/32/position = Vector3(0.170945, 0.292406, 0.575908)
bones/32/rotation = Quaternion(0.707107, -2.29302e-07, -4.60552e-08, 0.707107)
bones/33/position = Vector3(0.201993, 0.0273732, 0.207184)
bones/33/rotation = Quaternion(-0.708487, -7.03824e-08, -7.06802e-08, 0.705724)
bones/34/rotation = Quaternion(9.59996e-09, 1.76887e-09, 0.985891, -0.167387)
bones/35/rotation = Quaternion(-1.04035e-07, 0.391084, 0.920355, -2.9526e-08)
bones/37/rotation = Quaternion(1, -2.4534e-11, 1.94708e-07, 3.1517e-12)
bones/39/position = Vector3(-0.170945, 0.292406, 0.575908)
bones/39/rotation = Quaternion(0.707107, -3.82385e-08, 1.45009e-07, 0.707107)
bones/40/position = Vector3(-0.170945, 0.026621, 0.241594)
bones/40/rotation = Quaternion(-0.702923, -7.09764e-08, -7.00622e-08, 0.711266)
bones/41/rotation = Quaternion(-5.78845e-09, 6.41191e-10, 0.994872, 0.101142)
bones/42/rotation = Quaternion(-1.04035e-07, 0.391084, 0.920355, -2.95261e-08)
bones/44/rotation = Quaternion(1, 4.44086e-16, 1.94707e-07, 6.88718e-22)
bones/46/position = Vector3(0.454581, 1.10521, -0.588243)
bones/46/rotation = Quaternion(-0.707107, -0.000208895, -0.000208895, 0.707107)
bones/47/position = Vector3(0.52058, 0.770689, -0.0558399)
bones/47/rotation = Quaternion(0.792879, 0.002062, 0.609375, 0.000747632)
bones/48/position = Vector3(-0.453092, 1.10555, -0.589641)
bones/48/rotation = Quaternion(-0.707107, -0.000208895, -0.000208895, 0.707107)
bones/49/position = Vector3(-0.510863, 0.770689, 0.0598746)
bones/49/rotation = Quaternion(-0.756947, 0.00280369, 0.653469, -0.000882439)

[node name="1H_Sword_Offhand" parent="Rig/Skeleton3D" index="0"]
transform = Transform3D(0.000236125, 0.25961, 0.965713, 0.999939, -0.0106408, 0.00261633, 0.0109553, 0.965654, -0.259597, 0.511361, 0.618927, 0.00060185)
visible = false
bone_idx = 9

[node name="Badge_Shield" parent="Rig/Skeleton3D" index="1"]
transform = Transform3D(0.000236138, 0.25961, 0.965713, 0.999939, -0.0106433, 0.00261699, 0.0109579, 0.965654, -0.259597, 0.661902, 0.619335, -0.0398655)
visible = false
bone_idx = 10

[node name="Rectangle_Shield" parent="Rig/Skeleton3D" index="2"]
transform = Transform3D(0.000236138, 0.25961, 0.965713, 0.999939, -0.0106433, 0.00261699, 0.0109579, 0.965654, -0.259597, 0.661902, 0.619335, -0.0398655)
visible = false
bone_idx = 11

[node name="Rectangle_Shield" parent="Rig/Skeleton3D/Rectangle_Shield" index="0"]
visible = false

[node name="Round_Shield" parent="Rig/Skeleton3D" index="3"]
transform = Transform3D(0.000236138, 0.25961, 0.965713, 0.999939, -0.0106433, 0.00261699, 0.0109579, 0.965654, -0.259597, 0.661902, 0.619335, -0.0398655)
visible = false
bone_idx = 12

[node name="Spike_Shield" parent="Rig/Skeleton3D" index="4"]
transform = Transform3D(0.000236138, 0.25961, 0.965713, 0.999939, -0.0106433, 0.00261699, 0.0109579, 0.965654, -0.259597, 0.661902, 0.619335, -0.0398655)
visible = false
bone_idx = 13

[node name="1H_Sword" parent="Rig/Skeleton3D" index="5"]
transform = Transform3D(-0.0054959, -0.157725, 0.987467, 0.999943, -0.00983613, 0.0039939, 0.00908332, 0.987433, 0.157771, -0.495149, 0.62304, 0.142362)
bone_idx = 19

[node name="2H_Sword" parent="Rig/Skeleton3D" index="6"]
transform = Transform3D(-0.00549592, -0.157725, 0.987467, 0.999943, -0.00983615, 0.00399391, 0.00908333, 0.987433, 0.157771, -0.495149, 0.62304, 0.142362)
visible = false
bone_idx = 20

[node name="Knight_Helmet" parent="Rig/Skeleton3D" index="7"]
transform = Transform3D(0.999702, -0.000490311, 0.0243948, 0.000529316, 0.999999, -0.00159247, -0.024394, 0.00160491, 0.999701, 0.000155001, 1.17966, 0.00201145)
visible = false
bone_idx = 22

[node name="Knight_Cape" parent="Rig/Skeleton3D" index="8"]
transform = Transform3D(0.996134, -5.04118e-05, 0.0878478, 0.000329794, 0.999995, -0.00316579, -0.0878472, 0.00318252, 0.996129, 0.000143282, 1.17966, 0.00197114)
bone_idx = 23

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
tree_root = SubResource("AnimationNodeStateMachine_xg2kv")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/IWR/blend_position = Vector2(-0.00169206, 0.00436687)

[node name="CollisionShape3D" type="CollisionShape3D" parent="." index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.2, 0)
shape = SubResource("CapsuleShape3D_s34jb")

[node name="SpringArm3D" type="SpringArm3D" parent="." index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.5, 0)
spring_length = 5.0
margin = 0.1

[node name="Camera3D" type="Camera3D" parent="SpringArm3D" index="0"]
